import requests

site_id = "d5129c9b-3a1e-47c7-af54-1b7b96106ae7,59fc2ce4-1369-446c-bd14-e111a283eb9a" # Your site ID
access_token = "eyJ0eXAiOiJKV1QiLCJub25jZSI6IkhTVEtGNmVQWm03RzVtckJUR1pOaXRkZzNNbDlITHBZam55OEdDWHFjc1EiLCJhbGciOiJSUzI1NiIsIng1dCI6IjVCM25SeHRRN2ppOGVORGMzRnkwNUtmOTdaRSIsImtpZCI6IjVCM25SeHRRN2ppOGVORGMzRnkwNUtmOTdaRSJ9.eyJhdWQiOiIwMDAwMDAwMy0wMDAwLTAwMDAtYzAwMC0wMDAwMDAwMDAwMDAiLCJpc3MiOiJodHRwczovL3N0cy53aW5kb3dzLm5ldC84MTMzZWFkNC0xYjM0LTRhNGYtYWFiNS0yZjBjZGY0MTBlOGMvIiwiaWF0IjoxNzAzNDkwMjc4LCJuYmYiOjE3MDM0OTAyNzgsImV4cCI6MTcwMzU3Njk3OCwiYWNjdCI6MCwiYWNyIjoiMSIsImFpbyI6IkFWUUFxLzhWQUFBQWxGdTJRblJ3K01vMW9SSXJ5UFVkeVZQdnhkMzdPQ0huTG9QSjNPMDJJK3V6MW9Id1hSZjEzSVlEa25WYUFZRng0WXlVOUM4aGl1VTVZYUtqeXEyTlU4bEJOcHgwTUZWSWZRc0p2NDllOFc4PSIsImFtciI6WyJyc2EiLCJtZmEiXSwiYXBwX2Rpc3BsYXluYW1lIjoiR3JhcGggRXhwbG9yZXIiLCJhcHBpZCI6ImRlOGJjOGI1LWQ5ZjktNDhiMS1hOGFkLWI3NDhkYTcyNTA2NCIsImFwcGlkYWNyIjoiMCIsImZhbWlseV9uYW1lIjoiU2lsaXN0ZWFudSIsImdpdmVuX25hbWUiOiJSYXp2YW4iLCJpZHR5cCI6InVzZXIiLCJpcGFkZHIiOiI3OS4xMTkuNDQuMTkyIiwibmFtZSI6IlJhenZhbiBWaW9yZWwgU2lsaXN0ZWFudSIsIm9pZCI6ImZjNzE2ZTM5LTM4NzQtNDMxMC1iNmEwLWQ4ZDY3ZmY2ZmJlMCIsInBsYXRmIjoiMyIsInB1aWQiOiIxMDAzMjAwMEQ1NUI2RUU0IiwicmgiOiIwLkFYa0ExT296Z1RRYlQwcXF0UzhNMzBFT2pBTUFBQUFBQUFBQXdBQUFBQUFBQUFCNUFKNC4iLCJzY3AiOiJBUElDb25uZWN0b3JzLlJlYWQuQWxsIEFQSUNvbm5lY3RvcnMuUmVhZFdyaXRlLkFsbCBvcGVuaWQgcHJvZmlsZSBTaXRlcy5SZWFkLkFsbCBTaXRlcy5SZWFkV3JpdGUuQWxsIFVzZXIuUmVhZCBlbWFpbCIsInNpZ25pbl9zdGF0ZSI6WyJrbXNpIl0sInN1YiI6IlE1LU9uVWtLNUVfV21neDNaUXpqV1V0OEJJdTRmZnlaWUZVT1JGaHpFZDAiLCJ0ZW5hbnRfcmVnaW9uX3Njb3BlIjoiRVUiLCJ0aWQiOiI4MTMzZWFkNC0xYjM0LTRhNGYtYWFiNS0yZjBjZGY0MTBlOGMiLCJ1bmlxdWVfbmFtZSI6InJhenZhbkBtZXhpLnJvIiwidXBuIjoicmF6dmFuQG1leGkucm8iLCJ1dGkiOiJVTDdNV1VCZ1JFZW42UmkyS01LWkFRIiwidmVyIjoiMS4wIiwid2lkcyI6WyI5MmIwODZiMy1lMzY3LTRlZjItYjg2OS0xZGUxMjhmYjk4NmUiLCIxMTQ1MWQ2MC1hY2IyLTQ1ZWItYTdkNi00M2QwZjAxMjVjMTMiLCIyOTIzMmNkZi05MzIzLTQyZmQtYWRlMi0xZDA5N2FmM2U0ZGUiLCI2MmU5MDM5NC02OWY1LTQyMzctOTE5MC0wMTIxNzcxNDVlMTAiLCIxMTJjYTFhMi0xNWFkLTQxMDItOTk1ZS00NWIwYmM0NzlhNmEiLCJlMzAwZDllNy00YTJiLTQyOTUtOWVmZi1mMWM3OGIzNmNjOTgiLCJiNzlmYmY0ZC0zZWY5LTQ2ODktODE0My03NmIxOTRlODU1MDkiXSwieG1zX2NjIjpbIkNQMSJdLCJ4bXNfc3NtIjoiMSIsInhtc19zdCI6eyJzdWIiOiJ6bHhfRFNINUZHdVZrS19sRzVQeEFLVlhjVmlyeWJPc2ppOGdVWGxiQm5vIn0sInhtc190Y2R0IjoxNjA3MDEwNDQ3LCJ4bXNfdGRiciI6IkVVIn0.jv4pu1vLdi12Dmx9Rxlp6ZXWfbrGdt8ms3kfLEwYbcTnl_QcywB0NjL8NdiTb7vBqS4gcxmwf4nKi4Bdz4C1CzgZP5P9-ceWW12WUOt4ffzPvbNGnop3K03Up8RoezZ4qSzvvZWoQGxIq9VGYgBGe_Mt0LqvX4tW9ee5N56VwMkhSx7wo9zIApxWIqipjQFlW-FCYSbtaoK1q3lKYxDwpaVBNpC8Zd0RKVEefzXr6XW-e1GaZyMjA6LPZX-egFoBA1pHBEFm8VLVOwXn3V9t84-rzciZrgc_bqlknXPCE6fs9UcKe20xQ0RhhdcCyqvWqncWb6F2lbDvLixDzAP8Iw"  # Replace with your valid access token

# Headers
headers = {
    "Authorization": f"Bearer {access_token}"
}

# Make a request to list libraries/lists
response = requests.get(f"https://graph.microsoft.com/v1.0/sites/{site_id}/lists", headers=headers)

# Check response status and print the content
if response.status_code == 200:
    lists = response.json()['value']
    for list in lists:
        print(list['name'])
else:
    print("Error:", response.status_code)
